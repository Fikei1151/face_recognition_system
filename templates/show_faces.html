<!doctype html>
<html lang="en">
<head>
    <title>Detected Faces and Emotions</title>
</head>
<body>
    <h1>Detected Faces and Emotions</h1>

    <!-- Display the uploaded image -->
    <img src="{{ url_for('static', filename=image_path.split('static/')[-1]) }}" alt="Uploaded Image" width="400">

    <!-- Form to update names and display emotions -->
    <form method="POST" action="{{ url_for('show_faces') }}">
        <table>
            <tr>
                <th>Face</th>
                <th>Name</th>
                <th>Emotion</th>
            </tr>
            <!-- Loop through detected faces and display their information -->
            {% for face in faces %}
            <tr>
                <td>Face {{ loop.index }}</td>
                <td>
                    <!-- Name input field to allow updating the name -->
                    <input type="text" name="name" value="{{ face.name }}">
                    <!-- Hidden field to store the face encoding -->
                    <input type="hidden" name="encoding" value="{{ face.encoding }}">
                </td>
                <td>{{ face.emotion }}</td>
            </tr>
            {% endfor %}
        </table>
        <!-- Submit button to update the names -->
        <button type="submit">Update Names</button>
    </form>
</body>
</html>
